@using LoginFinal.HelpingClasses 
@{
    if(ViewBag.User.Role==3)
    {
        ViewData["Title"] = " I.T. Butler Account";
    }
    else
    {
        ViewData["Title"] = " Customer Account";
    }
    Layout = "~/Views/Shared/_FrontLayout.cshtml";
}

<head>
    @*calendar links*@

    <script src='~/Content/fullcalendar/lib/moment.min.js'></script>
    <script src='~/Content/fullcalendar/lib/jquery.min.js'></script>
    <script src='~/Content/fullcalendar/fullcalendar.min.js'></script>
    @*<script src="~/FrontAssets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script> already commented*@
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/choices.min.css">
<script src="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/choices.min.js"></script>
   

    
     <link href='~/Content/fullcalendar/fullcalendar.min.css' rel='stylesheet' />
    <link href='~/Content/fullcalendar/fullcalendar.print.min.css' rel='stylesheet' media='print' />
    @*<script src='~/Content/fullcalendar/lib/moment.min.js'></script>
    <script src='~/Content/fullcalendar/lib/jquery.min.js'></script>
    <script src='~/Content/fullcalendar/fullcalendar.min.js'></script>*@


    @*<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">*@
    @*<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>*@

    

    @*calendar links*@



            <style>
                /*drpdown css*/
                
                .mt-100{margin-top: 100px}
                /*drpdown css*/


   .dataTables_filter {
    white-space:nowrap;
}
#calendar {
            max-width: 400px;
            margin: 0 auto;
        }

.dataTables_filter label, .dataTables_filter input {
    display: inline-block;
}

.dataTables_filter input:active {
    display: inline-block;
    border:none;
}
[type=search] {
    display: block;
    width: 100%;
    height: calc(1.5em + 0.75rem + 2px);
    padding: 0.375rem 0.75rem;
    font-size: 12px;
    font-weight: 400;
    line-height: 1.5;
    color: #495057;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}

</style>
</head>

@*for calendar*@
  <div hidden id="popoverContent" class="hide">
        <h4 id="popoverTitle" class="text-center"></h4>
        Start: <span id="popoverStart"></span>
        <br />

        End: <span id="popoverEnd"></span>
  </div>
<form action="@Url.Action("PostUpdateProfile","Auth")" method="post" enctype="multipart/form-data">
    <div class="py-5">
        <div class="container">
            @if(ViewBag.msg!="")
            {
                <div class="h5 alert alert-info" id="alertMsg" role="alert">
                    <span>@ViewBag.msg</span>
                </div>
            }
            @if (ViewBag.User.IsActive == 3)
            {
               <script type="text/javascript">
                    $(window).on('load', function() {
                    $('#messagemodal2').modal('show');
                        });
                    </script>

            }
            @if (ViewBag.User.IsActive == 2 && ViewBag.User.Role == 3)
            {
                <script type="text/javascript">
                    $(window).on('load', function() {
                    $('#modal2').modal('show');

                  
                        });
                    </script>
            }
            @if (ViewBag.suces == true)
            {
                <div class="h4 alert alert-success" role="alert">
                    Data Updated Successfully
                </div>
            }
            <div class="row">
                
                
                <!-- Main Content -->
                <aside class="col-md-4">
                    <div class="box mb-3 shadow-sm rounded bg-white profile-box text-center">

                        <div class="py-4 px-3 border-bottom">

                            <input type="hidden" name="EncId" value="@StringCipher.EncryptId(ViewBag.User.Id)" />


                             <img src="~/@ViewBag.User.ImagePath" height="256" width="256" id="previewImg" onerror="this.onerror=null; this.src='/FrontAssets/images/user/s4.png';" class="img-fluid mt-2 rounded-circle" alt="Responsive image">


                            <h5 class="font-weight-bold text-dark mb-1 mt-4" >@ViewBag.User.FirstName @ViewBag.User.LastName</h5>
                            
                            @if (ViewBag.User.Position != null)
                            {
                                <p class="mb-0 text-muted">@ViewBag.User.Position</p>
                            }

                             @*@if (ViewBag.User.Availability != null)
                            {
                                if (@ViewBag.User.Availability == 1)
                                {
                                    <p class="mb-0 text-muted">Availabile</p>
                                }
                                else
                                {
                                    <p class="mb-0 text-muted">Unavailabile</p>
                                }
                            }
*@
                            <!-- User Status -->
                            <div class="custom-control custom-switch my-2">
                                @if (@ViewBag.User.Status == 1)
                                {
                                    <input type="checkbox" onclick="myStatus()" class="custom-control-input" id="customSwitches" autofocus checked="checked">
                                     <label id="status" class="custom-control-label" for="customSwitches">Online</label>

                                }
                                else
                                {
                                    <input type="checkbox" onclick="myStatus()" class="custom-control-input" id="customSwitches">
                                     <label id="status" class="custom-control-label" for="customSwitches">Offline</label>
                                }
                                <input type="hidden" id="stat" name="Status" value="@ViewBag.User.Status"/>
                                
                             
                             
                             
                            </div>
                            <!--End User Status -->

                            
                            
                            <!-- User Availability -->
                           @* <div class="p-2">
                                <select id="avail" class="form-select" name="Availability" style="width:70%;">
                                    <option value="-1">Set Availability</option>
                                    @if (@ViewBag.User.Availability == 1)
                                    {
                                        <option value="1" selected>Available</option>
                                        <option value="0">UnAvailable</option>
                                    }
                                    else if(@ViewBag.User.Availability == 0)
                                    {
                                        <option value="0" selected>Unavailable</option>
                                        <option value="1">Available</option>
                                    }
                                    else
                                    {
                                        <option value="0">Unavailable</option>
                                        <option value="1">Available</option>
                                    }

                                </select>
                            </div>*@

                            <div class="custom-control custom-switch my-2">
                                @if (@ViewBag.User.Availability == 1)
                                {
                                    <input type="checkbox" onclick="myAvailability()" class="custom-control-input" id="switch2" checked="checked">
                                    <label id="availability" class="custom-control-label" for="switch2">Available</label>
                                }
                                else
                                {
                                    <input type="checkbox" onclick="myAvailability()" id="switch2" class="custom-control-input">
                                    <label id="availability" class="custom-control-label" for="switch2">Unavailable</label>
                                }
                                <input type="hidden" id="available" name="Availability" value="@ViewBag.User.Availability" />
                            </div>








                            <!--End User Availability -->
                           
                        </div>
                       
                        <!-- Image Input -->
                        <div class="p-4">
                            <label data-toggle="tooltip" data-placement="top" data-original-title="Upload New Picture" class="btn btn-info m-0" for="fileAttachmentBtn">
                                <i class="mdi mdi-image"></i> Upload
                                <input id="fileAttachmentBtn" name="ImagePath" onchange="loadImageFile();" accept="image/*" type="file" class="d-none">
                            </label>
                        </div>
                    </div>
                     <!-- End Image Input -->
                     @*customer scasualing calender*@

                     <div class="shadow-sm rounded bg-white mb-3">
                     @*<div class="box-body">*@
                        @*<div class="p-3" id="">*@

                             @*calendar*@


                    @*start massam 09-01-23*@
                    <div class="seller-profile p-2 p-md-3">
                        @*end massam 09-01-23*@
                        <div style="padding:5px !important;">
                          <div id='calendar'>

                           </div>
                            

                        </div>

                      </div>


                    @*calendar*@


                            
                            @*</div>*@
                     @*</div>*@
                     </div>


                     @*customer scasualing calender*@


                     <!-- Input -->
                    <div class="shadow-sm rounded bg-white mb-3">
                     <div class="box-body">
                        <div class="p-3">
                           <div class="form-group mb-4">
                              <label class="mb-1">About</label>
                              <div class="position-relative">
                                    @if(@ViewBag.User!=null)
                                    {
                                 <textarea name="Description" class="form-control" onKeyDown="limitText(this,250);" rows="4" placeholder="Write something about yourself...">@ViewBag.User.Description</textarea>
                                    }
                                    else
                                    {
                                  <textarea name="Description" class="form-control" rows="4" onKeyDown="limitText(this,250);" placeholder="Write something about yourself..."></textarea>
                                    }
                              </div>
                           </div>
                            <!-- End Input -->
                                @if (ViewBag.User.Role != 4)
                                {
                                    <!-- Input -->
                                   <!-- Platform Provided Skills -->
                                    <div class="form-group mb-3">
                                        <label class="mb-1">Skills<span class="text-danger">*</span></label>
                                       @* <select name="SkillName" id="skillcategories" style="width:100% !important" class="custom-select" multiple required>
                                            <option value="" disabled>Please Select a skill category</option>
                                            <option value="PC">PC</option>
                                            <option value="Mac">Mac</option>
                                            <option value="Apple">Apple</option>
                                            <option value="Android">Android</option>
                                            <option value="Printer">Printer</option>
                                            <option value="Scanner">Scanner </option>
                                            <option value="Copiers">Copiers</option>
                                            <option value="watch">Smartwear - watch</option>
                                            <option value="Server">Server</option>
                                            <option value="Email">Email</option>
                                            <option value="Internet">Internet</option>
                                            <option value="Website">Website</option>
                                        </select>*@

                                        <select id="skillcategories" class="multiselects" name="SkillName" placeholder="Select upto 8 skills" multiple>
                                                @*<option value="" disabled>Please Select a skill category</option>*@
                                            <option value="PC">PC</option>
                                            <option value="Mac">Mac</option>
                                            <option value="Apple">Apple</option>
                                            <option value="Android">Android</option>
                                            <option value="Printer">Printer</option>
                                            <option value="Scanner">Scanner </option>
                                            <option value="Copiers">Copiers</option>
                                            <option value="watch">Smartwear - watch</option>
                                            <option value="Server">Server</option>
                                            <option value="Email">Email</option>
                                            <option value="Internet">Internet</option>
                                            <option value="Website">Website</option>
                                            <option value="None">None</option>
                                            </select>
                                        @*<span style="font-size:11px;">7 tags maximum.</span>*@
                                    </div>
                                    <!-- End Platform Provided Skills -->
                                    <!-- Custom Skills -->
                                    @*<div class="form-group mb-0">
                                        <label class="mb-1 w-100">
                                            Skills
                                            <span class="text-danger">*</span>
                                        </label>
                                        <div class="form-group">
                                            @if (@ViewBag.Skills != null)
                                            {
                                                <input name="SkillName" id="tag1"  type="text" class="  form-control select" data-role="tagsinput" value="@ViewBag.Skills" required=""  multiple>
                                            }
                                            else
                                            {
                                                <input name="SkillName" id="tag1" type="text" class=" form-select select" data-role="tagsinput" required="" multiple>
                                            }
                                            <span style="font-size:11px;">7 tags maximum.</span>
                                        </div>
                                    </div>*@
                                    <!-- End Custom Skills -->


                                     @* <div class="form-group mb-0">
                                        
                                          
                                        <label class="mb-1 w-100">
                                            Starting From
                                        </label>

                                        <div class="form-group">
                                            @if (@ViewBag.User != null)
                                            {
                                                <div class="input-group mb-2 col-md-12 p-0">
                                                  <div class="input-group-prepend">
                                                     <div class="btn btn-success">$</div>
                                                  </div>
                                                  <input name="StartingFrom" onkeydown="limitText(this,3)" type="number" min=0 max=5000 value="@ViewBag.User.StartingFrom" placeholder="Starting From" class="form-control">
                                               </div>
                                            }
                                            else
                                            {
                                                 <div class="input-group mb-2 col-md-12 p-0">
                                                  <div class="input-group-prepend">
                                                     <div class="btn btn-success">$</div>
                                                  </div>
                                                  <input name="StartingFrom" onkeydown="limitText(this,3)" type="number" min=0 max=5000 placeholder="Starting From" class="form-control">
                                               </div>
                                            }
                                        </div>
                                    </div>*@


                                    <div class="form-group mb-0">
                                        
                                          
                                        <label class="mb-1 w-100">
                                            Stripe Account Connect
                                        </label>

                                        <div class="form-group">
                                            @if (@ViewBag.User.StripeId != null && @ViewBag.User.StripeId != "")
                                            {
                                                <div class="input-group mb-2 col-md-12 p-0">
                                               <div class="input-group-prepend">
                                                     <i class="fa fa-cc-stripe pr-1" style="font-size:34px;color:#001C40;"></i>
                                                  </div>
                                                  <input name="StripeId" id="StripeAccId" value="@ViewBag.User.StripeId" placeholder="Stripe Id" class="form-control" readonly>
                                               </div>
                                            }
                                            else
                                            {
                                                 <div class="input-group mb-2 col-md-12 p-0">
                                                  <div class="input-group-prepend">
                                                     <i class="fa fa-cc-stripe pr-1" style="font-size:34px;color:#001C40;"></i>
                                                  </div>
                                                  <input name="StripeId" id="StripeAccId" onkeyup="ValidateStripe(this.value)" placeholder="Stripe Id" class="form-control" required> 
                                               </div>
                                            }

                                            @if (@ViewBag.User.StripeId != null && @ViewBag.User.StripeId != ""  && @ViewBag.User.Is_Verified!=1 && @ViewBag.User.Is_Verified!=2)
                                            {
                                                <span class="text-success"><a href="@Url.Action("Generate_Verification_Link","Ajax",new {Id=@ViewBag.User.StripeId , typ="1" , Uid= @ViewBag.User.Id })" target="_blank">Verify Your Connect Account</a></span>
                                                
                                               
                                            }
                                            else if(@ViewBag.User.Is_Verified==0)
                                            {
                                                <p>Don't have a Connect Account? </p><span><a href="#" data-toggle="modal" data-target="#ConnectModal">Create New Account</a></span>
                                            }
                                            else if(@ViewBag.User.Is_Verified==1 )
                                            {
                                                <p class="text-success">Verified !</p>
                                                <p><a href="#" data-toggle="modal" data-target="#BankModal">Add Bank Details</a></p>
                                                
                                            }
                                            else
                                            {
                                                <p class="text-success">Verified and Bank Added !</p>
                                              
                                            }
                                            @if (@ViewBag.User.StripeId != null && @ViewBag.User.StripeId != "")
                                            {
                                                <p class="mt-3"> <a class="text-danger" href="#" data-toggle="modal" data-target="#deleteModal">Delete Exsisting Account !</a></p>
                                            }
                                            <p class="text-danger" id="stripeErr"></p>
                                        </div>
                                   </div>
                                }
                            </div>
                     </div>
                     </div>
                      <!-- End Input -->
                    @if (ViewBag.User.Role != 4)
                    {
                        <div class="shadow-sm rounded bg-white mb-3">
                            <div class="box-body">
                                <div class="p-3">
                                    <!-- Input -->
                           <div class="form-group mb-0">
                                        <label class="mb-1 w-100">
                                            Custom Tags
                                        </label>

                                        <div class="form-group">
                                            @if (@ViewBag.Tags != null)
                                            {
                                                <input name="TagName" id="tag2" value="@ViewBag.Tags" type="text" class=" form-control select" data-role="tagsinput" value="@ViewBag.Tags" multiple>
                                            }
                                            else
                                            {
                                                <input name="TagName" id="tag2" type="text" class=" form-select select" data-role="tagsinput" multiple>
                                            }
                                            <span style="font-size:11px;">5 tags maximum. Use letters and numbers only.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End Input -->
                    }
                    <!--Start Education Input -->
                    <div class="shadow-sm rounded bg-white mb-3">
                     <div class="box-title border-bottom p-3">
                        <div class="row">
                           <div class="col-md-6 col-6 d-flex justify-content-start">
                              <h6 class="m-0">Education</h6>
                           </div>
                           <div class="col-md-6 col-6 d-flex justify-content-end">
                              <p class="m-0"><a onclick="showDiv()" style="cursor:pointer; color:#138496;">Add New</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="box-body" id="myDIV" style="display: none;">
                        <div class="py-3">

                              <div class="col-sm-12 mb-2">
                                 @*Start Massam 06-01-23*@
                                 <div class="position-relative icon-form-control mb-2 w-100">
                                     @*End Massam 06-01-23*@
                                    <i class="mdi mdi-hospital-building position-absolute text-muted"></i>
                                    <input placeholder="College/University Name" onKeyDown="limitText(this,50);" id="ins" type="text" class="form-control">
                                 </div>
                              </div>

                              <div class="col-sm-12 mb-3">
                                 <div class="position-relative icon-form-control mb-2">
                                    <i class="mdi mdi-school position-absolute text-muted"></i>
                                    <input placeholder="Degree Name" type="text" onKeyDown="limitText(this,50);" id="dn" class="form-control">
                                 </div>
                              </div>

                              <div class="row px-3">
                                 <div class="col-sm-6 col-6 col-md-6 mb-2">
                                    <label id="FROM" class="form-label">Start Date</label>
                                    <!-- Input -->
                                          <div class="form-group">
                                             <input type="date" class="form-control" id="sd">
                                          </div>
                                    <!-- End Input -->
                                 </div>
                                 <div class="col-sm-6 col-6 col-md-6 mb-2">
                                    <label id="TO" class="form-label">End Date</label>
                                    <!-- Input -->
                                          <div class="form-group">
                                             <input type="date" class="form-control" id="ed">
                                          </div>
                                    <!-- End Input -->
                                 </div>
                                
                              </div>

                              <div class="row px-3">
                                 <div class="col-sm-6 col-6 col-md-6">
                                    <button type="button" onclick="hideDiv()" class="btn btn-outline-success w-100">Cancel</button>
                                 </div>
                                 <div class="col-sm-6 col-6 col-md-6">
                                    <button type="button" onclick="fieldShow()" class="btn btn-success w-100">Add</button>
                                 </div>
                              </div>
                             
                            </div>  
                     </div>
                     


                     <div class="box-body" id="myDIV2" style="display: none;">
                        <div class="py-3">

                              <div class="col-sm-12 mb-2">
                                 <div class="position-relative icon-form-control mb-2">
                                    <i class="mdi mdi-hospital-building position-absolute text-muted"></i>
                                    <input placeholder="College/University Name" onKeyDown="limitText(this,50);" type="text" id="insti1" class="form-control">
                                 </div>
                              </div>

                              <div class="col-sm-12 mb-3">
                                 <div class="position-relative icon-form-control mb-2">
                                    <i class="mdi mdi-school position-absolute text-muted"></i>
                                    <input placeholder="Degree Name" type="text" onKeyDown="limitText(this,50);" id="degree1" class="form-control">
                                 </div>
                              </div>

                              <div class="row px-3">
                                 <div class="col-sm-6 col-6 col-md-6 mb-2">
                                    <label id="FROM" class="form-label">Start Date</label>
                                    <!-- Input -->
                                          <div class="form-group">
                                             <input type="date" id="start1" class="form-control"  >
                                          </div>
                                    <!-- End Input -->
                                 </div>
                                 <div class="col-sm-6 col-6 col-md-6 mb-2">
                                    <label id="TO" class="form-label">End Date</label>
                                    <!-- Input -->
                                          <div class="form-group">
                                             <input type="date" id="end1" class="form-control">
                                          </div>
                                    <!-- End Input -->
                                 </div>
                                
                              </div>
                              </div>

                              <div class="row px-3">
                                 <div class="col-sm-6 col-6 col-md-6">
                                    <button type="button" onclick="hideDiv()" class="btn btn-outline-success w-100">Cancel</button>
                                 </div>
                                 <div class="col-sm-6 col-6 col-md-6">
                                     
                                    <button type="button" id="Upbtn" class="btn btn-success w-100">Update</button>
                                 </div>
                              </div>
                     </div>
                    
                       
                     @if (@ViewBag.Education != null)
                        { 
                            foreach (var x in ViewBag.Education)
                            {
                                
                                
                                <div class="ml-4 container-sm p-3 pbox" id='dig-@x.Id'>

                                    <p style="float:right; margin-right:10px;"><span><button type="button" class="btn fa fa-pencil" onclick="editfun(@x.Id)"></button></span> <span><button type="button" class="btn fa fa-trash" onclick="deledu(@x.Id)"></button></span></p>
                                    <br/>
                                    <p id="degree-@x.Id">Degree : @x.DegreeName</p>
                                    <p id="insti-@x.Id">Institute: @x.InstituteName</p>
                                    <p id="duration-@x.Id" class="text-muted">Duration : @Convert.ToDateTime(x.StartDate).ToString("dd-MM-yyyy") To @Convert.ToDateTime(x.EndDate).ToString("dd-MM-yyyy")</p>
                                </div>
                                

                                

                                <input type="hidden" id="funval-@x.Id" value="@x.Id" />
                               
                            }

                        }
                        <div id="ErrorMsg"></div>
                        <div class="pb-4 container-sm pl-0" id="EduInfo"></div>
                  </div>


                   <!-- End Education Input -->
                    <div class="shadow-sm rounded bg-white mb-3">
                        <div class="box-title border-bottom p-3">
                            <h6 class="m-0">Social Profiles</h6>
                            <p class="mb-0 mt-0 small">
                                Add elsewhere links to your profile.
                            </p>

                      <div class="box-body">

                        @*Start Massam 06-01-23*@
                        <div class="pt-3">
                           <div class="position-relative icon-form-control mb-2" style="width:100%;">
                                        @*End Massam 06-01-23*@
                               <i class='fa fa-stack-overflow position-absolute text-muted'></i>
                                    @if (@ViewBag.User != null)
                                    {
                                        <input name="StackOverFlowLink" value="@ViewBag.User.StackOverFlowLink" placeholder="Add Stackoverflow Link" type="url" class="form-control">
                                    }
                                    else
                                    {
                                         <input name="StackOverFlowLink" placeholder="Add Stackoverflow Link" type="url" class="form-control">
                                    }
                                </div>
                           <div class="position-relative icon-form-control mb-2" style="width:100%;">
                              <i class="mdi mdi-facebook position-absolute text-muted"></i>
                               @if (@ViewBag.User != null)
                               {
                                    <input name="FacebookLink" value="@ViewBag.User.FacebookLink" placeholder="Add Facebook Link" type="url" class="form-control">
                               }
                               else
                               {
                                   <input name="FacebookLink" placeholder="Add Facebook Link" type="url" class="form-control">
                               }
                           </div>
                           <div class="position-relative icon-form-control mb-2" style="width:100%;">
                              <i class="mdi mdi-twitter position-absolute text-muted"></i>
                                    @if (@ViewBag.User != null)
                                    {
                                        <input name="TwitterLink" value="@ViewBag.User.TwitterLink" placeholder="Add Twitter Link" type="url" class="form-control">
                                    }
                                    else
                                    {
                                        <input name="TwitterLink" placeholder="Add Twitter Link" type="url" class="form-control">
                                    }
                          </div>

                           <div class="position-relative icon-form-control mb-2" style="width:100%;">
                              <i class="fa fa-dribbble position-absolute text-muted"></i>
                                    @if (@ViewBag.User != null)
                                    {
                                        <input name="DribbleLink" value="@ViewBag.User.DribbleLink" placeholder="Add Dribble Link" type="url" class="form-control">
                                    }
                                    else
                                    {
                                        <input name="DribbleLink" placeholder="Add Dribble Link" type="url" class="form-control">
                                    }
                          </div>

                          <div class="position-relative icon-form-control mb-2" style="width:100%;">
                              <i class='fa fa-vimeo position-absolute text-muted'></i>
                                    @if (@ViewBag.User != null)
                                    {
                                        <input name="VimeoLink" value="@ViewBag.User.VimeoLink" placeholder="Add Vimeo Link" type="url" class="form-control">
                                    }
                                    else
                                    {
                                        <input name="VimeoLink" placeholder="Add Vimeo Link" type="url" class="form-control">
                                    }
                          </div>

                            <div class="position-relative icon-form-control mb-2" style="width:100%;">
                              <i class='fa fa-github position-absolute text-muted'></i>
                                    @if (@ViewBag.User != null)
                                    {
                                        <input name="GitHubLink" value="@ViewBag.User.GitHubLink" placeholder="Add GitHub Link" type="url" class="form-control">
                                    }
                                    else
                                    {
                                        <input name="GitHubLink" placeholder="Add GitHub Link" type="url" class="form-control">
                                    }
                          </div>

                          <div class="position-relative icon-form-control mb-2" style="width:100%;">
                              <i class="fa fa-google position-absolute text-muted"></i>
                                    @if (@ViewBag.User != null)
                                    {
                                        <input name="GoogleLink" value="@ViewBag.User.GoogleLink" placeholder="Add Google Link" type="url" class="form-control">
                                    }
                                    else
                                    {
                                        <input name="GoogleLink" placeholder="Add Google Link" type="url" class="form-control">
                                    }
                          </div>

                        </div>
                     </div>
                  </div>
                        </div>
                </aside>
                <main class="col-md-8">
                    <div class="shadow-sm rounded bg-white mb-3">
                        <div class="box-title border-bottom p-3">
                            <h4 class="mb-3">Welcome <b>@ViewBag.User.FirstName!</b></h4>
                            <h6 class="m-0">Edit Basic Info:</h6>
                            <!-- <p class="mb-0 mt-0 small">Lorem ipsum dolor sit amet, consecteturs.
                    </p> -->
                        </div>
                        <div class="box-body p-3">

                            <div class="row">
                                <!-- Input -->
                                <div class="col-sm-6 mb-2">
                                    <div class="js-form-message">
                                        <label id="nameLabel" class="form-label">
                                            Name
                                            <span class="text-danger">*</span>
                                        </label>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="name" value="@ViewBag.User.FirstName @ViewBag.User.LastName" disabled="disabled">
                                        </div>
                                    </div>
                                </div>
                                <!-- End Input -->
                                <!-- Input -->
                                <div class="col-sm-6 mb-2">
                                    <div class="js-form-message">
                                        <label id="usernameLabel" class="form-label">
                                            Username
                                            <span class="text-danger">*</span>
                                        </label>
                                        <div class="form-group">
                                            <input type="text" class="form-control" value="@ViewBag.User.Username" disabled >
                                             <input type="hidden" name="username" value="@ViewBag.User.Username" >
                                        </div>
                                    </div>
                                </div>
                                <!-- End Input -->
                            </div>
                               <div class="row">
                                <div class="col-sm-6 mb-2">
                                    <div class="js-form-message">
                                        <label id="EmailLlbl" class="form-label">
                                            Email
                                            <span class="text-danger">*</span>
                                        </label>

                                        <div class="form-group">
                                            @if (@ViewBag.User != null)
                                            {
                                                <input type="email" name="Email" class="form-control" value="@ViewBag.User.Email" placeholder="Enter your Email" aria-label="Enter your Email" aria-describedby="Emaillbl" data-msg="Please enter your Email." data-error-class="u-has-error" data-success-class="u-has-success" required>
                                            }
                                            else
                                            {
                                                <input type="text" name="Email" class="form-control" placeholder="Enter your Email" aria-label="Enter your Email" aria-describedby="Email" data-msg="Please enter your Email." data-error-class="u-has-error" data-success-class="u-has-success" required>
                                            }
                                        </div>
                                    </div>
                                </div>

                                 <div class="col-sm-6 mb-2">
                                    <div class="js-form-message">
                                        <label id="ContactLbl" class="form-label">
                                            Contact
                                        </label>

                                        <div class="form-group">
                                            @if (@ViewBag.User.Contact != null)
                                            {
                                                <input type="tel" id="contct" name="Contact" class="form-control" value="@ViewBag.User.Contact" placeholder="Enter your Contact" aria-label="Enter your Contact" aria-describedby="Emaillbl" data-msg="Please enter your Contact." data-error-class="u-has-error" data-success-class="u-has-success">
                                            }
                                            else
                                            {
                                                <input type="tel" id="contct" name="Contact" class="form-control" placeholder="Enter your Contact" aria-label="Enter your Contact" aria-describedby="Contact" data-msg="Please enter your Contact." data-error-class="u-has-error" data-success-class="u-has-success">
                                            }
                                        </div>
                                    </div>
                                </div>
                                <!-- End Input -->
                            </div>
                            <div class="row">
                                <!-- Input -->
                                <div class="col-md-6 mb-3 mb-sm-6">
                                    <label class="form-label">
                                        Birth date
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="js-form-message">
                                        <div class="form-group">
                                            @if(ViewBag.User.DOB!= null)
                                            {
                                                <input type="date" value="@Convert.ToDateTime(ViewBag.User.DOB).ToString("yyyy-MM-dd")" class="form-control" name="DOB" required>
                                            }
                                            else
                                            {
                                                 <input type="date" class="form-control" value="yy-mm-dd" name="DOB" required>
                                            }
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-3 mb-sm-6">
                                    <div class="js-form-message">
                                        <div class="form-group">
                                            <label class="form-label">Gender</label>
                                             <span class="text-danger">*</span>
                                            <select class="form-control custom-select" required="" name="Gender" data-msg="Please select your gender." data-error-class="u-has-error" data-success-class="u-has-success" >
                                                @if (ViewBag.User.Gender != null && ViewBag.User.Gender!="")
                                                {
                                                if(@ViewBag.User.Gender=="Male")
                                                {
                                                <option value="Male" selected>Male</option>
                                                <option value="Female">Female</option>
                                                 <option value="Other">Other</option>
                                                }
                                                else if(@ViewBag.User.Gender=="Female")
                                                {
                                                <option value="Male">Male</option>
                                                <option value="Female" selected>Female</option>
                                                        <option value="Other">Other</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="Male">Male</option>
                                                        <option value="Female" >Female</option>
                                                        <option value="Other" selected>Other</option>
                                                    }
                                               }
                                                else
                                                {
                                                    <option value="" selected>-- Select Gender --</option>
                                                    <option value="Male">Male</option>
                                                    <option value="Female">Female</option>
                                                    <option value="Other">Other</option>
                                                }
                                              
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Input -->
                            </div>
                            <div class="row">
                                <div class="col-sm-6 mb-2">
                                    <div class="js-form-message">
                                        <label id="CityLabel" class="form-label">
                                            City
                                            
                                        </label>
                                        <div class="form-group">
                                            @if (@ViewBag.User != null)
                                            {
                                                <input type="text" name="City" class="form-control" value="@ViewBag.User.City" placeholder="Enter your City" aria-label="Enter your City" aria-describedby="CityLabel" data-msg="Please enter your City." data-error-class="u-has-error" data-success-class="u-has-success" >
                                            }
                                            else
                                            {
                                                <input type="text" name="City" class="form-control" placeholder="Enter your City" aria-label="Enter your City" aria-describedby="CityLabel" data-msg="Please enter your City." data-error-class="u-has-error" data-success-class="u-has-success" >
                                            }
                                        </div>
                                    </div>
                                </div>
                                <!-- End Input -->
                                <div class="col-sm-6 mb-2">
                                    <div class="js-form-message">
                                        <label id="ZipCodelabel" class="form-label">
                                            Zip Code
                                            <span class="text-danger">*</span>
                                        </label>
                                        <div class="form-group">
                                            @if (@ViewBag.User != null)
                                            {
                                                <input type="text" onkeydown="limit(this);" required onkeyup="limit(this);" name="ZipCode" id="zip" data-placement="bottom" title="This field can contain only alpha numeric characters."  class="form-control" value="@ViewBag.User.ZipCode" placeholder="Enter your Zip Code" aria-label="Enter your ZipCode" aria-describedby="ZipCodelabel" data-msg="Please enter your ZipCode." data-error-class="u-has-error" data-success-class="u-has-success">
                                            }
                                            else
                                            {
                                                <input type="text" onkeydown="limit(this);" required onkeyup="limit(this);" id="zip" data-placement="bottom" name="ZipCode" title="This field can contain only alpha numeric characters." class="form-control" placeholder="Enter your Zip Code" aria-label="Enter your Zip Code" aria-describedby="ZipCodelabel" data-msg="Please enter your Zip Code." data-error-class="u-has-error" data-success-class="u-has-success">
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>

                             <div class="row">
                          
                                 <div class="col-sm-12 mb-2">
                                 <div class="js-form-message">
                                    <label id="countrylbl" class="form-label">
                                    Country
                                    </label>
                                     <span class="text-danger">*</span>
                                    <div class="form-group">
                                        @if(ViewBag.User!=null)
                                        {
                                            @if(ViewBag.User.Country!=null)
                                            {
                                                    <select name="Country" class="form-control countrypicker" data-live-search="true" data-default="@ViewBag.User.Country" data-flag="true"></select>
                                                }
                                                else
                                                {
                                                    <select name="Country" class="form-control countrypicker" data-live-search="true" data-default="United States" data-flag="true"></select>
                                                }
                                            }
                                            else
                                            {
                                       <select name="Country" class="form-control countrypicker" data-live-search="true" data-default="United States" data-flag="true"></select>
                                            }
                                    </div>
                                 </div>
                              </div>
                           </div>
                             @if(ViewBag.User!=null)
                                {
                                    if (ViewBag.User.Role != 4)
                                     { 
                           <div class="row">

                                <!-- Input -->
                                <div class="col-sm-6 mb-2">
                                    <div class="js-form-message">
                                        <label id="organizationLabel" class="form-label">
                                            Organization
                                        </label>
                                        <div class="form-group">
                                            @if (@ViewBag.User != null)
                                            {
                                                <input type="text" class="form-control" name="Organization" value="@ViewBag.User.Organization" placeholder="Enter your organization name" aria-label="Enter your organization name" aria-describedby="organizationLabel" data-msg="Please enter your organization name" data-error-class="u-has-error" data-success-class="u-has-success">
                                            }
                                            else
                                            {
                                                <input type="text" class="form-control" name="Organization" placeholder="Enter your organization name" aria-label="Enter your organization name" aria-describedby="organizationLabel" data-msg="Please enter your organization name" data-error-class="u-has-error" data-success-class="u-has-success">
                                            }
                                        </div>
                                    </div>
                                </div>
                                <!-- End Input -->
                                
                                <!-- Input -->
                                <div class="col-sm-6 mb-2">
                                    <div class="js-form-message">
                                        <label id="websiteLabel" class="form-label">
                                            Website
                                          
                                        </label>
                                        <div class="form-group">
                                            @if (@ViewBag.User.Website != null)
                                            {
                                                <input class="form-control" name="Website" type="url" value="@ViewBag.User.Website" placeholder="Enter your website" aria-label="Enter your website"  aria-describedby="websiteLabel" data-msg="Password enter a valid website" data-error-class="u-has-error" data-success-class="u-has-success">
                                            }
                                            else
                                            {
                                                <input class="form-control" name="Website" type="url" placeholder="Enter your website" aria-label="Enter your website" aria-describedby="websiteLabel" data-msg="Password enter a valid website" data-error-class="u-has-error" data-success-class="u-has-success">
                                            }
                                        </div>
                                    </div>
                                </div>
                                <!-- End Input -->
                            
                            </div>
                                  }
                             }
                          
                            <div class="row">

                                <div class="col-sm-12 mb-2">
                                    <div class="js-form-message">
                                        <label class="form-label">
                                            Preferred language
                                        </label>
                                        <div class="form-group">
                                            @*<select name="userlangs"  class="custom-select" multiple>
                                                <option value="English">English</option>
                                                <option value="French">French</option>
                                                <option value="Deutsch">Deutsch</option>
                                                <option value="Portuguêse">Portuguêse</option>
                                                <option value="Mandarin">Mandarin</option>
                                                
                                                <option value="Cantonese">Yue(Cantonese)</option>
                                                <option value="Spanish">Spanish</option>
                                                <option value="Filipino">Tagalog(Filipino)</option>
                                                
                                                <option value="Russian">Russian</option>
                                                <option value="Chinese">Chinese</option>
                                                <option value="Korean">Korean</option>
                                                 <option value="Persian">Persian</option>
                                                <option value="Italian">Italian</option>
                                                 
                                                <option value="Vietnamese">Vietnamese</option>
                                                <option value="Dutch">Dutch</option>

                         </select>*@

                         <select class="multiselects" id="userlanguages" name="userlangs" placeholder="Select upto 8 tags" multiple>
                                                <option value="English">English</option>
                                                <option value="French">French</option>
                                                <option value="Deutsch">Deutsch</option>
                                                <option value="Portuguêse">Portuguêse</option>
                                                <option value="Mandarin">Mandarin</option>
                                                
                                                <option value="Cantonese">Yue(Cantonese)</option>
                                                <option value="Spanish">Spanish</option>
                                                <option value="Filipino">Tagalog(Filipino)</option>
                                                
                                                <option value="Russian">Russian</option>
                                                <option value="Chinese">Chinese</option>
                                                <option value="Korean">Korean</option>
                                                 <option value="Persian">Persian</option>
                                                <option value="Italian">Italian</option>
                                                 
                                                <option value="Vietnamese">Vietnamese</option>
                                                <option value="Dutch">Dutch</option>
 </select>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Input -->
                            </div>

                            @*prefered working for butler*@
                            @if (ViewBag.User.Role == 3)
                            {

                                <div class="row">

                                <div class="col-sm-12 mb-2">
                                    <div class="js-form-message">
                                        <label class="form-label">
                                            Preferred times for session
                                        </label>
                                        <div class="form-group">
                                            @*<select name="butlerprefertime"  class="custom-select" multiple>
                                                <option value="Day">Day</option>
                                                <option value="Evening">Evening</option>
                                                <option value="Weekday">Weekday </option>
                                                <option value="Live Now">Live Now</option>
                                                <option value="Weekend">Weekend</option>
                                                
                                           </select>*@
                                           <select class="multiselects" id="butlerprefertime" name="butlerprefertime" placeholder="Select upto 8 tags" multiple>
                                                <option value="morning(8am-12pm)">Morning(8am-12pm)</option>
                                                <option value="afternoon(12pm-5pm)">Afternoon(12pm-5pm)</option>
                                                <option value="evening(5pm-10pm)">Evening(5pm-10pm)</option>
                                                <option value="night(10pm-7am)">Night(10pm-7am)</option>
                                                @*<option value="Weekend">Weekend</option>*@
                                           </select>

                                        </div>
                                    </div>
                                </div>
                                
                            </div>


                            }

                            



                            @*prefered working for butler*@


                        </div>
                    </div>
                    @if(ViewBag.User!=null)
                    {
                        if (ViewBag.User.Role != 4)
                        {
                            <div class="shadow-sm rounded bg-white mb-3 pb-2">
                                <div class="box-title border-bottom p-3">
                                    <h6 class="m-0" id="expId">
                                        Experience
                                    </h6>
                                    <strong id="experience_added" style="color: green"></strong>
                                    <strong id="experience_deleted" style="color: green"></strong>
                                    <strong id="experience_edited" style="color: green"></strong>

                                    
                                    @*babar*@
                                    
                                    <div class="col-md-12 col-12 d-flex justify-content-end">
                              <p class="m-0"><a onclick="showexperience_div()" style="cursor:pointer; color:#138496;">Add New Experience</a></p>
                           </div>
                           @*babar*@
                                    <p class="mb-0 mt-0 small">
                                        Tell about your work, job, and other experiences.
                                    </p>
                                </div>

                                <div class="box-body px-3 pt-3 pb-0" style="display:none" id="experienceform_div">
                                    <div class="row">
                                        <div class="col-sm-6 mb-4">
                                            <label id="FROM" class="form-label">From Date</label>
                                            <!-- Input -->
                                    <div class="input-group">
                                                @*@if (ViewBag.User.Experience_From != null)
                                                {
                                                    <input type="date" value="@Convert.ToDateTime(ViewBag.User.Experience_From).ToString("yyyy-MM-dd")" class="form-control" name="Experience_From">
                                                }
                                                else
                                                {*@
                                                    <input type="date" id="from_date" class="form-control" value="yy-mm-dd" name="Experience_From">
                                               <input hidden id="from_hidden" value="">
                                                    @*}*@
                                            </div>
                                            <!-- End Input -->
                                </div>
                                        <div class="col-sm-6 mb-4">
                                            <label id="TO" class="form-label">To Date</label>
                                            <input hidden id="to_hidden" value="">
                                            <!-- Input -->
                                    <div class="input-group">
                                                @*@if (ViewBag.User.Experience_To != null)
                                                {
                                                    <input type="date" value="@Convert.ToDateTime(ViewBag.User.Experience_To).ToString("yyyy-MM-dd")" class="form-control" name="Experience_To">
                                                }
                                                else
                                                {*@
                                                    <input type="date" id="to_date" class="form-control" value="yy-mm-dd" name="Experience_To">
                                               @* }*@
                                            </div>
                                            <!-- End Input -->
                                </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6 mb-4">
                                            <label id="companyLabel" class="form-label">Organization</label>
                                            <!-- Input -->
                                    <div class="input-group">
                                               @* @if (@ViewBag.User != null)
                                                {
                                                    <input type="text" class="form-control" name="Company" value="@ViewBag.User.Company" placeholder="Enter your company title" aria-label="Enter your company title" aria-describedby="companyLabel">
                                                }
                                                else
                                                {*@
                                                    <input type="text" id="company_name" class="form-control" name="Company" placeholder="Enter your company title" aria-label="Enter your company title" aria-describedby="companyLabel">
                                               @* }*@
                                            </div>
                                            <!-- End Input -->
                                </div>
                                        <div class="col-sm-6 mb-4">
                                            <label id="positionLabel" class="form-label">Designation</label>
                                            <!-- Input -->
                                    <div class="input-group">
                                                @*@if (@ViewBag.User.Position != null)
                                                {
                                                    <input type="text" class="form-control" name="Position" value="@ViewBag.User.Position" placeholder="Enter your position" aria-label="Enter your position" aria-describedby="positionLabel">
                                                }
                                                else
                                                {*@
                                                    <input type="text" id="company_position" class="form-control" name="Position" placeholder="Enter your position" aria-label="Enter your position" aria-describedby="positionLabel">
                                               @* }*@
                                            </div>

                                            


                                            <!-- End Input -->
                                </div>

                                
                                    </div>



                                     <div class="row">
                                        <div class="col-sm-6 mb-4">
                                            <label id="companyLabel" class="form-label">Organization Reference</label>
                                            <!-- Input -->
                                    <div class="input-group">
                                                
                                                    <input type="text" id="company_reference" class="form-control" name="Company" value="" placeholder="Enter Your Company Reference" aria-label="Enter Your Company Reference" aria-describedby="companyLabel">
                                                
                                            </div>
                                            <!-- End Input -->
                                </div>
                                        <div class="col-sm-6 mb-4">
                                            <label id="positionLabel" class="form-label">Referal Contact</label>
                                            <!-- Input -->
                                    <div class="input-group">
                                               
                                                
                                                    <input type="text" id="company_contact" class="form-control" name="Position" placeholder="Enter Referal Contact" aria-label="Enter Referal Contact" aria-describedby="positionLabel">
                                                
                                            </div>

                                            


                                            <!-- End Input -->
                                </div>

                                
                                    </div>
                                    <input hidden id="exp_id" value="">
                                    <input hidden id="user_id" value="">
                                     <div class="row">
                                        <div class="col-lg-12">
                                            <span class="d-flex justify-content-end">
                                                <button id="" onclick="hideexperience_div()" type="button" class="btn btn-success">Cancel</button>
                                                <button id="Add_Experiencebutton" onclick="Add_Experience()" type="button" class="btn btn-success ml-2">Add Experience</button>
                                                <button id="update_Experiencebutton" onclick="update_Experience()" type="button" class="btn btn-success ml-2">Update Experience</button>
                                            </span>
                                        </div>
                                    </div>

                                </div>

                               @* experiences*@

                                <div class="p-3">
                        <h3>Experiences</h3>
                        <ul>
                           
                            @foreach(var item in @ViewBag.userexperience)
                            {
                           <li id="li_@item.Id">
                                    <p style="float:right; margin-right:10px;"><span><button type="button" class="btn fa fa-pencil" onclick="GetExperiencebyid('@item.Id')"></button></span> <span><button type="button" class="btn fa fa-trash" onclick="delexperience('@item.Id')"></button></span></p>
                               
                              <p style="display:inline-block"><b>From</b> :<strong id="f_date">@item.FromDate</strong> &nbsp; <b>To</b> :@item.ToDate </p> 
                              <p><b>Org</b> :<strong id="org_id">@item.Organization</strong> &nbsp;<b>Desig</b> :<strong id="desig_id">@item.Designation</strong> </p>
                              <p><b>Refer</b> :@item.Organization_Reference &nbsp;<b>Contact</b> : @item.ReferalContact</p>
                              
                              <hr/>
                               
                           </li>

                          }
                            
                        </ul>
                     </div>

                              @*experiences*@


                            </div>
                        }
                    }

                   @* @if (@ViewBag.User.Role !=1 )
                    {
                        <div class="panel p-20 m-10">

                            <div class="shadow-sm rounded bg-white mb-3">
                                <div class="box-title border-bottom p-3">
                                    <h6 class="m-0">
                                        Referred Users
                                    </h6>
                                </div>
                                <div class="box-body px-3 pt-3 pb-0">
                                    <div class="table-responsive table-lg">
                                        <table class="table text-md-nowrap table-striped table-bordered text-center no-footer" id="userTable">
                                            <thead class="bg-indigo-800">
                                                <tr>
                                                    <th class="text-bold" hidden>...</th>
                                                    <th class="text-bold text-center" style="min-width:140px;">
                                                        First Name
                                                    </th>
                                                    <th class="text-bold text-center" style="min-width:140px;">
                                                        Last Name
                                                    </th>
                                                    <th class="text-bold text-center" style="min-width:150px;">
                                                        Refferal Type
                                                    </th>
                                                    <th class="text-bold text-center" style="min-width:140px;">
                                                        User Type
                                                    </th>
                                                    <th class="text-bold text-center" style="min-width:150px;">
                                                        Email
                                                    </th>
                                                    <th class="text-bold text-center" style="min-width:150px;">
                                                        Username
                                                    </th>
                                                    <th class="text-bold text-center" style="min-width:150px;">
                                                        Created On
                                                    </th>

                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>

                            </div>
                        </div>
                    }*@
                   @* @if (ViewBag.User.IsActive == 2 || ViewBag.User.IsActive == 1 )
                    {*@
                        <div class="mb-3 text-right">
                            <input type="hidden" name="UpdatedAt" value="@DateTime.UtcNow" />
                            <input type="hidden" name="pcount" id="cnt"/> 
                            <button id="updateBtn" type="submit" class="btn btn-success">Update</button>
                            
                        </div>
                    @*}*@
                </main>

            </div>
        </div>



        <!-- Message modal show -->
        <!-- Modal -->
        <div class="modal fade" id="modal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title text-danger" id="exampleModalLabel">Note:</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Your Profile is under Review. We will send you an email once it is approved.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-success" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>

        </div>

        @if (ViewBag.User.IsActive != 1)
        {
            <div class="modal fade" id="messagemodal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 style="margin-left:95px;font-weight:bold;" class="modal-title text-danger" id="exampleModalLabel">Account Activation Required</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Your Account has been approved. Kindly check your email to activate your account !</p>
                        
                    </div>

                    <div class="modal-footer">
                        <button type="submit" class="btn btn-success" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>

        </div>

        }
        <!--Create Connect Account Modal-->
        <div class="modal fade" id="ConnectModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 style="margin-left:95px;font-weight:bold;" class="modal-title text-primary" id="exampleModalLabel">Create New Connect Account</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                       <div class="form-group">
                          
                                 <div class="input-group-prepend">
                                  <i class="fa fa-cc-stripe pr-1" style="font-size:34px;color:#001C40;"></i>
                                </div>
                               <input type="email" class="form-control form-block" id="StripeEmail" placeholder="Enter your email"/>
                               <small class="ml-1 text-dark">we would not share this email with anyone.</small>
                          
                       </div>
                       <span class="text-danger" id="ErrModal"></span>
                    </div>

                    <div class="modal-footer">
                        <button type="button" id="btnstripe" onclick="CreateAcc($('#StripeEmail').val())" class="btn btn-success">Submit</button>
                    </div>

                </div>
            </div>

        </div>
          <!--End Connect Account Modal-->


           <!--Add External Account Modal-->
      <div class="modal fade" id="BankModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 style="margin-left:95px;font-weight:bold;" class="modal-title text-primary" id="exampleModalLabel">Add Bank to Your Stripe</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                       <div class="form-group">
                                 <div class="input-group-prepend">
                                  <i class="fa fa-cc-stripe pr-1" style="font-size:34px;color:#001C40;"></i>
                                </div>
                               <input type="text" class="mt-2 form-control form-block" id="Acc_Holder" placeholder="Enter Account Holder Name"/>
                                <input type="text" class="mt-2 form-control form-block" id="Acc_No" placeholder="Enter Account Number"/>
                                <input type="text" class="mt-2 form-control form-block" id="Routing_No" placeholder="Enter Routing Number"/>
                       </div>
                       <span class="text-danger" id="ErrBank"></span>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="btnstripe" onclick="Add_Bank($('#Acc_Holder').val(),$('#Acc_No').val(),$('#Routing_No').val())" class="btn btn-success">Add</button>
                    </div>
                </div>
            </div>
        </div>
       <!-- End External Account Modal-->


       <!--Delete Confirm Modal-->
       
                        
        <div class="modal fade" id="deleteModal">
        <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header bg-danger text-center">
                    <h3 class="modal-title" style="margin-left: 37%;color:white;" >Warning !</h3>
                    <button type="button" class="close" data-dismiss="modal" style="color:white;" aria-label="Close">&times;</button>
                </div>
                <div class="modal-body p-5">
                    <h6 class="text-semibold" id="confirmModalText" style="font-size:17px">
                        Are you sure you want to delete your your Stripe Account ? <br/><br/>
                        This action can't be undone!
                    </h6>
                </div>
                <div class="modal-footer border-top-1 border-top-grey-300 pt-10">
                    <form method="post" id="confirmModalForm">
                        <button class="btn btn-link" style="text-decoration:none;" data-dismiss="modal">Cancel</button>
                        <a role="button" class="btn btn-danger" style="color:white;" href="@Url.Action("DeleteStripe","Ajax", new{user_id= StringCipher.EncryptId(ViewBag.User.Id)})">Proceed</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
     <!--End Delete Confirm Modal-->
</form>


<script src="http://www.datejs.com/build/date.js" type="text/javascript"></script>

<script>
    @*start massam 7jan-23*@
    if('@ViewBag.butlerprefertime' != null)
    {
        debugger;
        var skills = '@ViewBag.butlerprefertime'.split(",");
        console.log(skills);
        $("#butlerprefertime option").each(function()
        {
            var op = $(this);
           
            if(skills.includes(op.val()))
            {
                debugger;
                console.log("test massam!");
                op.attr("selected","selected");
            }
        });
    }
    @*end massam 07-01-23*@


    @*start massam 7jan-23*@
    if('@ViewBag.Skills' != null)
    {
        var skills = '@ViewBag.Skills'.split(",");
        $("#skillcategories option").each(function()
        {
            var op = $(this);
           
            if(skills.includes(op.val().toUpperCase()))
            {
                
                op.attr("selected","selected");
            }
        });
    }
    @*end massam 07-01-23*@

    if('@ViewBag.userlanguages' != null)
    {
        var skills = '@ViewBag.userlanguages'.split(",");
        $("#userlanguages option").each(function()
        {
            var op = $(this);
           
            if(skills.includes(op.val()))
            {
                
                op.attr("selected","selected");
            }
        });
    }
</script>
<script>

    $("#alertMsg").fadeOut(6000);
    
    function myStatus() {

        //$("#stat").val(1);
        var x = document.getElementById("status");
        if (x.innerHTML === "Online") {
             $("#stat").val(0);
            x.innerHTML = "Offline";
        } else {
             $("#stat").val(1);
            x.innerHTML = "Online";

        }
        var stat= $('#stat').val();
        
        $.ajax({
                    type: 'POST',
                    url: "../Ajax/StatusUpdate",
                    dataType: "json",
                    data:{
                        id: @ViewBag.User.Id, val: stat
                    },
                    success: function (response) {
                       if(response)
                       {

                       }
                    },
                    error: function(response)
                    {
                        alert("Status not updated");
                    }
         });

    }

    function myAvailability(){
            var x = document.getElementById("availability");
        if (x.innerHTML === "Available") {
             $("#available").val(0);
            x.innerHTML = "Unavailable";
        } else {
                 $("#available").val(1);
            x.innerHTML = "Available";
        }
        var available= $('#available').val();
        $.ajax({
                    type: 'POST',
                        url: "../Ajax/AvailabilityUpdate",
                    dataType: "json",
                    data:{
                        id: @ViewBag.User.Id, val: available
                    },
                    success: function (response) {
                       if(response)
                       {
                       }
                    },
                    error: function(response)
                    {
                        alert("Status not updated");
                    }
         });
        }



    $('#tag1').tagsinput({
  maxTags: 7,
  maxChars: 15,
  confirmKeys: [13, 44]
        });

   $('#tag2').tagsinput({
  maxTags: 5,
  maxChars: 15,
  confirmKeys: [13, 44]
        });
         
        function showDiv() {
             document.getElementById('myDIV2').style.display = "none";
             document.getElementById('myDIV').style.display = "block";
             
             $('#ins').attr('required', 'true');
             $('#dn').attr('required', 'true');
             $('#sd').attr('required', 'true');
             $('#ed').attr('required', 'true');

                     }
         function hideDiv() {
           

             $('#ins').attr('required',false);
             $('#dn').attr('required',false);
             $('#sd').attr('required',false);
             $('#ed').attr('required',false);
             if(document.getElementById('myDIV').style.display == "block")
             {
             document.getElementById('myDIV').style.display = "none";
             }
             if(document.getElementById('myDIV2').style.display == "block")
             {
             document.getElementById('myDIV2').style.display = "none";
             }
              document.getElementById('ErrorMsg').style.display = "none";
             
                     }
         
         var PCount= 1;
         var chkarr=[];
        

         function fieldShow()
         { 
             var ins= document.getElementById('ins').value;
             var dn= document.getElementById('dn').value;
             var sd=  new Date(document.getElementById('sd').value);
             var sd1= document.getElementById('sd').value;
             sd= sd.toString("dd-MMM-yyyy");
             var ed= new Date(document.getElementById('ed').value);
             ed=ed.toString("dd-MMM-yyyy");
             var ed1= document.getElementById('ed').value;
             var edu =document.getElementById('EduInfo');
             var cnt= document.getElementById('cnt');
             
         if( (ins != "" && dn!="" && sd1!="" && ed1!=""))
           {
             if(!chkarr.includes(dn) && !chkarr.includes(sd) )
             {
              var guestDiv = document.createElement("div");
             
              guestDiv.setAttribute("class", "col-md-10 pbox removeclass" + PCount);
              
              var removeGuestDiv = 'removeclass' + PCount;
              chkarr.push(ins,dn,sd,ed);
              
              var txt5=  "<br/><span class='text-muted'>"+ sd + "&nbsp;To&nbsp;" + ed + '</span>&nbsp;'+ '<button type="button" style="background:transparent;border:none;" onclick="deleteDiv('+ PCount+ ')">'+'<i class="fa fa-window-close bg-white" aria-hidden="true">'+'</i>'+ '</button>'+  '<br/>' + '<input type="hidden" id="degn-' + PCount + '" name="degname' + PCount + '" value="'+dn+'">' + '<input type="hidden" id="insn-' + PCount + '" name="insname' + PCount + '" value="'+ins+'">' + '<input type="hidden" id="sdn-' + PCount + '" name="sd' + PCount + '" value="'+sd+'">'+ '<input type="hidden" id="edn-' + PCount + '" name="ed' + PCount + '" value="'+ed+'">'+  '<p >'+ dn + '-' + ins +  '</p>';
              guestDiv.innerHTML= txt5;
              edu.appendChild(guestDiv);
              PCount++;
              cnt.value= PCount;
             document.getElementById('ErrorMsg').style.display = "none";
             document.getElementById('ins').value="";
             document.getElementById('dn').value="";
             document.getElementById('sd').value="";
             document.getElementById('ed').value="";
             hideDiv();
             
             }
             else
             {
                  document.getElementById('ErrorMsg').style.display = "block";
                  document.getElementById('ErrorMsg').className="text-danger ml-4";
                  document.getElementById('ErrorMsg').innerHTML="Starting Date or Degree Name Already Exsist!";
             }
           }
            else
              {
                  document.getElementById('ErrorMsg').style.display = "block";
                  document.getElementById('ErrorMsg').className="text-danger ml-4";
                  document.getElementById('ErrorMsg').innerHTML="Please fill all the fields!";
              }
         }

         function showexperience_div() {

             $("#expId").text("Experience");
             document.getElementById('experienceform_div').style.display = "block";
             $("#Add_Experiencebutton").attr('style','display:block');
        $("#update_Experiencebutton").hide();
            $("#company_name").val("");
             $("#company_position").val("");
               $("#company_reference").val("");
                $("#company_contact").val("");

                     }
         function hideexperience_div() {
           

             document.getElementById('experienceform_div').style.display = "none";
             $("#expId").text("Experience");
             
                     }

                     function Add_Experience() {
           debugger

            
              var fromdate=  new Date(document.getElementById('from_date').value);
              fromdate=fromdate.toString("dd-MMM-yyyy");
              var todate=  new Date(document.getElementById('to_date').value);@*.toLocaleDateString('en-US')*@
              todate=todate.toString("dd-MMM-yyyy");
             var compname=$("#company_name").val();
              var comppost=$("#company_position").val();
               var compref=$("#company_reference").val();
                var compcontct=$("#company_contact").val();
                console.log(compname);
                
                          $.ajax({
                    type: 'POST',
                    url: "../Ajax/Addexperience",
                    dataType: "json",
                    data:{
                        userid: @ViewBag.userid,
                        company_name: compname,
                        position:comppost,
                        company_reference:compref,
                        reference_contact:compcontct,
                        from:fromdate,
                        To:todate
                        
                    },
                    success: function (response) {
                        debugger
                       if(response==true)
                       {
                           $("#experience_added").val("");
                           $("#experience_added").html("Your Experience added please update your profile to view changes!");
                        

                              $("#experience_added").fadeOut(5000);  
            document.getElementById("to_date").value = "";
            document.getElementById("from_date").value = "";
            $("#company_name").val("");
            $("#company_position").val("");
            $("#company_reference").val("");
            $("#company_contact").val("");
             

                       }
                    },
                    error: function(response)
                    {
                         $("#experience_added").val("");
                           $("#experience_added").html("Something went wrong please try again!");
                            $("#experience_added").fadeOut(5000);
                    }
         });

              
                     }


         function deleteDiv(del)
         { 
             var values=[];
            
             var ins= $("#ins"+del).val();
             var dn= $("#dn"+del).val();
             var sd= $("#sd"+del).val();
             var ed= $("#ed"+del).val();
             values.push(ins,dn,sd,ed);
             for(let i=0;i<4;i++)
             {
                 var index= values.indexOf(values[i]);
                 chkarr.splice(index,1);
             }
             $("#degn-"+del).remove();
             $("#insn-"+del).remove();
             $("#sdn-"+del).remove();
             $("#edn-"+del).remove();
             $(".removeclass"+del).remove();
            
         }


      var max_chars = 6;

$('#zip').keydown( function(e){
    if ($(this).val().length >= max_chars) { 
        $(this).val($(this).val().substr(0, max_chars));
    }
});

$('input[type=text]').keyup(function() {
  if (this.value.match(/[^a-zA-Z0-9 ]/g)) {
    this.value = this.value.replace(/[^a-zA-Z0-9 ]/g, '');
  } 
});

$('input[type=text]').focusout(function() {
  this.value = this.value.trim();
});

  
function CreateAcc(email)
{

    if(email=="" && email==null)
    {
        $("#ErrModal").text("Please enter an email");
        return;
    }
    else
    {
         $("#ErrModal").text("");
    }
      $.ajax({
                        type: 'POST',
                        url: "../Ajax/CreateAccount",
                        data:{email:email},
                        dataType: "json",
                        success:function (response) 
                        {
                            //console.log(response);

                            window.open(response[0],"_blank");
                             
                            $("#StripeAccId").val(response[1]);
                            
                            $("#stripeErr").text("\nAccount Generated !");

                            $("#ConnectModal").modal("hide");

                            location.reload();
                        },
                        error: function (response)
                        {
                            alert("Error");
                        },
                    });
}
 
function delexperience(id)
{

     $.ajax({
                    type: 'POST',
                    url: "../Ajax/DeleteExperience",
                    dataType: "json",
                    data:{
                        id: id
                    },
                    success: function (response) {
                       if(response==true)
                    {

                        $("#li_"+id).remove();

                        $("#experience_deleted").val("");
                           $("#experience_deleted").html("Experience Deleted Successfully...");
                        

                              $("#experience_deleted").fadeOut(5000);  
                         //$("#msgg").append();
                        
                        // $("#confirm_msg").fadeOut(5000);

                         // $("#del_"+id).remove();
                        
                    }  
                       },
                    error: function(response)
                    {
                        alert('Something went wrong');
                    }
         });

}

function Add_Bank(acc_hol,acc_no, route_no)
{
    if(acc_hol=="" || acc_no=="" || route_no=="")
    {
        $("#ErrBank").text("Please fill all feilds");
        return;
    }
    else
    {
         $("#ErrBank").text("");
    }
      $.ajax({
                        type: 'POST',
                        url: "../Ajax/Add_Bank",
                        data:{ user_id:'@ViewBag.User.Id.ToString()',connect_acc_id : '@ViewBag.User.StripeId', acc_no : acc_no,  routing_no : route_no,  acc_holder_name : acc_hol},
                        dataType: "json",
                        success:function (response)
                        {
                            //console.log(response);
                            $("#BankModal").modal('hide');
                            window.open("../Account?msg=Bank Added Successfully","_blank");
                        },
                        error: function (response)
                        {
                            alert("Invalid Details");
                        },
                    });
}
function deledu(id)
{
     $.ajax({
                    type: 'POST',
                    url: "../Ajax/DeleteEducation",
                    dataType: "json",
                    data:{
                        id: id
                    },
                    success: function (response) {
                       if(response)
                       {
                           $('#dig-'+id).remove();

                       }
                    },
                    error: function(response)
                    {
                        alert('Something went wrong');
                    }
         });

}
$('#contct').keyup(function(e)
                                {
  if (/\D/g.test(this.value))
  {
    // Filter non-digits from input value.
    this.value = this.value.replace(/\D/g, '');
  }
});


 var val_id=0;
function editfun(id)
{
     document.getElementById('myDIV').style.display = "none";
     document.getElementById('myDIV2').style.display = "block";
     
     var inst= $('#insti-'+id).text();
     inst= inst.split(":");
     inst= inst[1].trim();
     
     var deg= $('#degree-'+id).text();
     deg= deg.split(":");
     deg= deg[1].trim();
     
     var dura = $('#duration-'+id).text();
     dura= dura.split(":");
     dura= dura[1].split("To");
     
    
     var start= dura[0];
    
     var end= dura[1];
      
      const [day, month, year] = start.split('-');

      start = [year, month, day].join('-').replace(/ /g,'');
      
      
      const [d, m, y] = end.split('-');
      end = [y, m, d].join('-').replace(/ /g,'');
      
      
     $('#insti1').val(inst);
     $('#degree1').val(deg);
     $('#start1').val(start);
     $('#end1').val(end);
     
     val_id= $('#funval-'+id).val();
   

}
 $('#Upbtn').on('click',function(){
            fun(val_id);
        });

      


function ValidateStripe(val)
{
     $.ajax({
                    type: 'POST',
                    url: "../Ajax/ValidateStripe",
                    dataType: "json",
                    data:{
                       val : val
                    },
                    success: function (response) {
                      
                        if(response==true)
                        {
                            $("#stripeErr").text("");
                        }
                        else
                        {
                            $("#stripeErr").text("Invalid Stripe Account!");
                        }
                    },
                    error: function(response)
                    {
                        $("#updateBtn").prop("disabled",true);
                    },
         });
}


    function fun(id)
{


     var a= $('#insti1').val().trim();
     var b= $('#degree1').val().trim();
     
     var c= $('#start1').val().trim();
    
     var d= $('#end1').val().trim();
    

          $.ajax({
                    type: 'POST',
                    url: "../Ajax/UpdateEducation",
                    dataType: "json",
                    data:{
                        id: id, ins:a , deg:b, sd:c, ed:d
                    },
                    success: function (response) {
                       if(response)
                       {
                           
                           var txt= "<p style='float:right; margin-right:10px;'><span><button type='button' class='btn fa fa-pencil mb-1' onclick='editfun("+id+")'>"+"</button>"+"</span>"+" <span><button type='button' class='btn fa fa-trash mb-1' onclick='deledu("+id+")'>"+"</button></p>"+ "<br/><span id='degree-'"+id+">"+"Degree :&nbsp;"+b + "</span>"+"<br/><br/>"+"<p id='insti-'"+id+">"+"Institute:&nbsp;"+ a + "</p>"+"</span>"+
                                    "<p id='duration-'"+id+" class='text-muted'>"+"Duration : "+c+" To "+d+"</p>";
                           $('#dig-'+id).html(txt);

                       }
                    },
                    error: function(response)
                    {
                        alert("Something Went Wrong !");
                    }
         });
}

   @* loadTable();
    function loadTable(Name, email)
    {
        $('#userTable').DataTable(
        {
            "ajax":
            {
                "url": '@Url.Action("GetUserRefferal", "Ajax")',
                "type": "POST",
                "datatype": "json",
                "data": {
                    Name: Name,
                    email: email,                   
                }
            },
            'columns':
            [
                { "data": "hidden", "name": "0" },
                { "data": "firstName", "name": "FirstName" },
                { "data": "lastName", "name": "LastName" },
                { "data": "userName", "name": "Username" },
                { "data": "role", "name": "Role" },
                { "data": "email", "name": "Email" },
                 { "data": "createdAt", "name": "createdAt" },
               
            ],
            'columnDefs':
            [
                {
                    "targets": 0,
                    "visible": false,
                    "searchable": false,
                    "render": function (data, type, full, meta) {
                        return null;
                    }
                },
                {
                    "targets": 1,
                    'className': '',
                    "render": function (data, type, full, meta)
                    {
                        return full.firstName ;
                    }
                },
                {
                    "targets": 2,
                    'className': '',
                    "render": function (data, type, full, meta)
                    {
                        return full.lastName;
                    }
                },
                {
                    "targets": 3,
                    'className': '',
                    "render": function (data, type, full, meta) {
                         if(full.isActive==1)
                         {
                         return "Connect";
                         }
                         else
                         {
                             return "Signup";
                         }
                    }
                },
                {
                    "targets": 4,
                    'className': '',
                    "render": function (data, type, full, meta) {
                        
                        
                        if(full.role==3)
                        {
                        return "Seller";
                        }
                        else
                        {
                          return "Buyer";
                        }
                        
                    }
                },
                {
                    "targets": 5,
                    'className': '',
                     "render": function (data, type, full, meta) {
                       
                         return full.email;
                    }
                },
                 {
                   "targets": 6,
                    'className': '',
                     "render": function (data, type, full, meta) {
                       
                       return full.userName;
                    }
                },
                 {
                   "targets": 7,
                    'className': '',
                     "render": function (data, type, full, meta) {
                       
                       return full.city;
                    }
                },
            ],
            "serverSide": "true",
            "processing": "true",
            "lengthChange": false,
            "language":
            {
                "processing": "<i class='icon-spinner spinner icon-2x'></i>",
                "search": "<span>Search :</span> _INPUT_",
                "searchPlaceholder": "Filter Data",
                "paginate": { 'first': 'First', 'last': 'Last', 'next': '&rarr;', 'previous': '&larr;' }
            }
        });
    }*@


    @*massam 28-12-22*@

    



</script>

            <script>

                function GetExperiencebyid(id)
    {
        debugger;
       // $('#loadImg').show();Add_Experiencebutton

             $("#expId").text("Edit Experience");
             document.getElementById('Add_Experiencebutton').style.display = "none";
             document.getElementById('experienceform_div').style.display = "block";
             $("#update_Experiencebutton").show();
              
        $.ajax({
            type: 'POST',
            url: "../Ajax/GetexperiencebyId",
            dataType: "json",
            data: {
                expid: id
            },
            success: function (response)
            {
                debugger
                console.log(response);
                //console.log(response);
                
                $("#exp_id").val(response.id);
                $("#user_id").val(response.userid);
                
                $("#to_date").val(response.toDate);
               $('#from_date').val(response.fromDate);
               
                //$('#from_hidden').val(response.fromDate);
                //$('#to_hidden').val(response.toDate);
                
              $('#from_date').val(response.fromDate);
                $('#to_hidden').val(response.toDate);

             $("#company_name").val(response.organization);
             $("#company_position").val(response.designation);
               $("#company_reference").val(response.organization_Reference);
                $("#company_contact").val(response.referalContact);

            },
            error: function () {
                alert("ajax Failed");
            }
        });
    }


            </script>

                <script>
           function update_Experience()
                    
    {
        debugger

         var expid= $("#exp_id").val();
          var userid= $("#user_id").val();
      
      
      var fromdate=    $('#from_date').val();
      var todate=    $('#to_date').val();
       
      
      var comp= $("#company_name").val();
      var post= $("#company_position").val();
      var reference= $("#company_reference").val();
      var refer_contact= $("#company_contact").val();
             
              
        $.ajax({
            type: 'POST',
            url: "../Ajax/updateexperience",
            dataType: "json",
            data:{      
                        expid:expid,
                        userid: userid,
                        company_name: comp,
                        position:post,
                        company_reference:reference,
                        reference_contact:refer_contact,
                        from:fromdate,
                        To:todate
                        
                    },
            success: function (response)
            {
                debugger
                console.log(response);

                  $("#experience_edited").val("");
                           $("#experience_edited").html("Experience edited please update your profile to view the changes!");
                        

                              $("#experience_edited").fadeOut(5000);  
                $("#org_id").val("");
                $("#desig_id").val(response.designation);
               $("#org_id").val(response.organization);
                //console.log(response);

             //   $("#to_date").val(response.toDate);
             //  $('#from_date').val(response.fromDate);
               
             //   $('#from_hidden').val(response.fromDate);
             //   $('#to_date').val(response.toDate);

              
             //$("#company_name").val(response.organization);
             //$("#company_position").val(response.designation);
             //  $("#company_reference").val(response.organization_Reference);
             //   $("#company_contact").val(response.referalContact);

            },
            error: function () {
                alert("ajax Failed");
            }
        });
    }

                </script>


              <script type="text/javascript">

             function deletenotification(id)                            
        {
            debugger;

           //var isdelete=1;

                     $.ajax({
                type: "GET",
                     //url: "../Ajax/updatenotification?id=" + id +"isdelete="+isdelete,
                     url: "../Ajax/DeleteExperience",

                     data:{
                            id: id,
            //isdelete: isdelete
         
                        },
                     cache: false,
                success: function(data) 
                {
                    debugger
                    console.log(data);
                    if(data==true)
                    {

                        $("#div_"+id).remove();
                         //$("#msgg").append();
                        
                        // $("#confirm_msg").fadeOut(5000);

                         // $("#del_"+id).remove();
                        
                    }


                },
                error: function() 
                {

                },
                complete:function()
                {

                    //getRoleList();
                }
            });



        }

                              </script>




         @*calendar script*@

         @*<script src='~/Content/fullcalendar/lib/moment.min.js'></script>
         <script src='~/Content/fullcalendar/lib/jquery.min.js'></script>
         <script src="~/FrontAssets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
         <script src='~/Content/fullcalendar/fullcalendar.min.js'></script>*@


        <script>
            

        $(document).ready(function ()
        {
            debugger;
            var events = [];
          
           //var sellerid=$("#butler_id").val();
            $.ajax({
                type: 'POST',
                
                url: "../Home/Getorders",
                data:{
                           userid:@ViewBag.userid,
                          
                        },
                cache: false,
                success: function (data)
                {
                    debugger;
                    $.each(data, function (i, v)
                    {
                        debugger;
                        events.push({

                            id: v.Id,
                            title: v.orderTitle,
                            //description: v.orderDescription,
                            start: moment(v.startDate),
                            end: v.endDate != null ? moment(v.endDate) : null, //if end date not equal to null then display else wise display null
                            color: '#2cdd9b',
                            url:v.url
                        })

                    });

                    GenerateCalender(events); //passing values to calender after fetching from ajax call
                },
                error: function (error)
                {
                    alert("Error");
                }

            });

            
            function GenerateCalender(events)
            {
                $('#calendar').fullCalendar('destroy');

                $('#calendar').fullCalendar({
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'month,agendaWeek,agendaDay'
                },
                defaultDate: new Date(), //'DateTime.Now'
                navLinks: true, // can click day/week names to navigate views
                selectable: true, //allow onclick listener
                selectHelper: true,
                

                select: function (start, end)
                {
                    // date format change

                    var today = start["_d"];
                    var dd = today.getDate();
                    var mm = today.getMonth() + 1;
                    var yyyy = today.getFullYear();
                    if (dd < 10) {
                        dd = '0' + dd
                    }
                    if (mm < 10) {
                        mm = '0' + mm
                    }
                    var sdate = mm + "/" + dd + "/" + yyyy;


                    var end = end["_d"];
                    var dd2 = end.getDate();
                    var mm2 = end.getMonth() + 1;
                    var yyyy2 = end.getFullYear();
                    if (dd2 < 10) {
                        dd2 = '0' + dd2
                    }
                    if (mm2 < 10) {
                        mm2 = '0' + mm2
                    }
                    var edate = mm2 + "/" + dd2 + "/" + yyyy2;


        // dayClick: function(date, jsEvent, view) {
		//if (view.name == 'month') {
		//	$('#calendar').fullCalendar('changeView', 'agendaDay');
		//	$('#calendar').fullCalendar('gotoDate', sdate);
		//}

                    //ending  date format change

                       //$("#myModal").modal('show');
                       //$("#myModal").removeClass('fade');
                       //$("#myModal").addClass('show');
                   

                    //$('#sdate').val(start);
                    //$('#edate').val(end);
                    $('#sdate').val(sdate);
                    $('#edate').val(edate);


                    $('#calendar').fullCalendar('unselect');
                },
                editable: false,
                eventLimit: true, // allow "more" link when too many events
                views: 
                {
                    month: //applied on monthly view
                    {
                        eventLimit: 5 // it will show 4 tasks and then 5th will be in "+ more" option
                    }
                    //week: //applied on weekly view
                    //{
                    //    eventLimit: 5 
                    //}
                },
                //eventColor: 'red',
                events: events,
                eventClick: function (events)
                {

                    location.href = events.url;
                   // $("#id2").text(events.id);
                   //// $("#sdate2").text(events.start.format('Y-MM-DD HH:mm:ss'));
                   //// $("#edate2").text(events.end.format('Y-MM-DD HH:mm:ss'));
                   // $("#title2").text(events.title);
                   // $("#detail2").text(events.description);

                    //$('#myModal2').modal('show');

                },
                //eventRender: function (events, $el)
                //{
                //    $el.popover({
                //        //title: events.title,
                //        //content: 'task name: ' + events.title + ', start date: ' + events.start.format('y-mm-dd hh:mm:ss'),
                //        content: function ()
                //        {
                //            $("#popoverTitle").text(events.title);
                //            //$("#popoverStart").text(events.start.format('Y-MM-DD HH:mm:ss'));
                //            //$("#popoverEnd").text(events.end.format('Y-MM-DD HH:mm:ss'));

                //            return $("#popoverContent").html();
                //            //return 'title :' + events.title +', details: ' + events.description + ', from ' + events.start.format('y-mm-dd hh:mm:ss') + ' to ' + events.end.format('y-mm-dd hh:mm:ss');
                //        },
                //        placement: 'top',
                //        html: 'true',
                //        trigger: 'hover',
                //        animation: 'true',
                //        container: 'body'

                //    });
                //},
                loading: function (bool)
                {
                    $('#loading').toggle(bool);
                }
            });
            }


        });

    </script>
    @*calendar*@

                <script>

                    $(document).ready(function(){
     var multipleCancelButton = new Choices('.multiselects', {
        removeItemButton: true,
        maxItemCount:8,
        searchResultLimit:8,
        renderChoiceLimit:8
      });
 });
                </script>